{% extends "base.html" %}

{% block content %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/create_moodboard.css') }}">

<h2>Create New Moodboard</h2>

<form method="post" id="create-moodboard-form" action="{{ url_for('create_moodboard') }}">
    {{ form.csrf_token }}

    <!-- Form fields -->
    <label for="title">Title:</label>
    <input type="text" id="title" name="title" required><br>

    <label for="description">Description:</label>
    <textarea id="description" name="description" required></textarea><br>

    <label for="mood">Mood:</label>
    <select id="mood" name="mood" required>
        {% for mood_choice in form.mood.choices %}
        <option value="{{ mood_choice[0] }}">{{ mood_choice[1] }}</option>
        {% endfor %}
    </select><br>

    <!-- Search for Images -->
    <label for="image-search">Search for Images</label>
    <div class="input-group mb-3">
        <input type="text" id="image-search" name="image_search" class="form-control">
        <div class="input-group-append">
            <button class="btn btn-primary" type="button" onclick="searchImages()">Search</button>
        </div>
    </div>

    <!-- Display selected images -->
    <div id="selected-images-preview"></div>


    <button type="button" class="btn btn-success" onclick="handleFormSubmit()">Create!</button>

</form>

<script src="{{ url_for('static', filename='js/create_moodboard.js') }}"></script>
{% endblock %}